<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="n}2.n__~3J7CC.Gc~PY5">black_line</variable><variable id="-fQ3+v0Lt%FhRpWlRaqs">current_surface_reading</variable></variables><comment id="NQZ#tmeZ|`WSc[Bb4ja[" x="1630" y="226" w="311" h="152">Note: The variable "black_line" is used as a reference for the micro:bot to determine what it is driving on.</comment><comment id=")X0)-,P[juC2{~#!v$69" x="543" y="621" w="538" h="816">Note: If the line following sensor connected to P1 sees a black line, move backward and pivot to the left. We'll need to take a few more steps back to make sure that we do not get stuck in the same place. The reading can vary depending on the material that you are using for a black line. For black electrical tape, this is about ~800. 

It takes a few more seconds for the micro:bit to react when using the LED array and sending serial data. We'll want short delays so that there is enough time for the micro:bot to read the surface.</comment><comment id="HqOo.7#/[K{pSW=JqlOz" x="544" y="1487" w="537" h="450">Note: This part of the code drives the micro:bot forward slowly if we do not see a black line.</comment><block type="pxt-on-start" id="*xV[k[TA28Fbf;@C^hgK" x="0" y="0"><statement name="HANDLER"><block type="serial_redirect_to_usb" id="d(J(!*R$:MgTwP.)SHGM"><next><block type="motobit_invert" id="/^~*QUF!eF0P]Zl18_J@"><field name="motor_number">Motor.Left</field><value name="invert"><shadow type="logic_boolean" id="RsCfa8(uupqw.on-1-a,"><field name="BOOL">TRUE</field></shadow></value><next><block type="motobit_invert" id="NljHC}]C`=IiDTHf/RIq"><field name="motor_number">Motor.Right</field><value name="invert"><shadow type="logic_boolean" id="/De)P`ba9OJ~DFpbAh]J"><field name="BOOL">TRUE</field></shadow></value><next><block type="variables_set" id="?ZXulhkE(zXZzkNN1HIP"><field name="VAR" id="n}2.n__~3J7CC.Gc~PY5">black_line</field><value name="VALUE"><shadow type="math_number" id="@l@0_H0mk,OYP;`E6O/K"><field name="NUM">0</field></shadow><block type="device_get_analog_pin" id="5%nI|OcB*NwwmEE~RJ8e"><value name="name"><shadow type="analog_read_write_pin_shadow" id="!;Sb6UIueef(cCKa`jIh"><field name="pin">AnalogReadWritePin.P1</field></shadow></value></block></value><next><block type="serial_writestring" id="b^Nh.X_}KB8pT%3?u=6g"><value name="text"><shadow type="text" id="^+@k:tP1UI{n|pURQkn,"><field name="TEXT">black_line_(i.e._Baseline_Value_of_Line_Following_Sensor_on_P1)=</field></shadow></value><next><block type="serial_writeline" id="~t_.N2iy:v2dw9(%nXq3"><value name="text"><shadow type="text" id="?U+6P=u^a}tD%Mz;J8Ri"><field name="TEXT"></field></shadow><block type="variables_get" id="~0tUQn`mZu95^l=d3hH-"><field name="VAR" id="n}2.n__~3J7CC.Gc~PY5">black_line</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="9$#gHzl)Ft#8N6xDM{*2" x="815" y="178"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="variables_set" id="u7`R22LtVnp)IK|(+;S0"><field name="VAR" id="n}2.n__~3J7CC.Gc~PY5">black_line</field><value name="VALUE"><shadow type="math_number" id="-U=_#IQv{=2PQLA38{S."><field name="NUM">0</field></shadow><block type="device_get_analog_pin" id="fUjQev,Df4b*$p8n]FHq"><value name="name"><shadow type="analog_read_write_pin_shadow" id="aBsamD7-75i%j(vmBH{p"><field name="pin">AnalogReadWritePin.P1</field></shadow></value></block></value><next><block type="serial_writestring" id=":;-ri,9O.?dgWxdfT^0N"><value name="text"><shadow type="text" id="Ji|f`1PZJoMLZ[xEG80c"><field name="TEXT">black_line_(i.e._Baseline_Value_of_Line_Following_Sensor_on_P1)=</field></shadow></value><next><block type="serial_writeline" id="#rlsYiRYeS6GLdXd}[BJ"><value name="text"><shadow type="text" id="W5^-#Z1sZ[(z7.G6/8rU"><field name="TEXT"></field></shadow><block type="variables_get" id="9PUh*dfeqXcmjpiX9mv/"><field name="VAR" id="n}2.n__~3J7CC.Gc~PY5">black_line</field></block></value></block></next></block></next></block></statement></block><block type="device_forever" id="3686t3~7{X*Y`D3eax3e" x="-2" y="411"><statement name="HANDLER"><block type="variables_set" id="`v$+5FZ::!}`EUC7G_SW"><field name="VAR" id="-fQ3+v0Lt%FhRpWlRaqs">current_surface_reading</field><value name="VALUE"><shadow type="math_number" id="cu3M+t1sA.iWpTEJxaa8"><field name="NUM">0</field></shadow><block type="device_get_analog_pin" id="%S!Sy#c#PmsL*].0VfFr"><value name="name"><shadow type="analog_read_write_pin_shadow" id="4kjj-6*$X9J.qD8VRh%a"><field name="pin">AnalogReadWritePin.P1</field></shadow></value></block></value><next><block type="serial_writeline" id=":iBvj!7IXy40-,BGvw95"><value name="text"><shadow type="text" id=":{rqy[EyqMo!k=3rOh]n"><field name="TEXT"></field></shadow><block type="variables_get" id="7Pi.4=ZES07r|XmWDkTj"><field name="VAR" id="-fQ3+v0Lt%FhRpWlRaqs">current_surface_reading</field></block></value><next><block type="controls_if" id="8[C#/E?{=t%W:!4xZ7Pi"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="U2(L,!j`-;eEIQJ:2RFp"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=";DDdUR%37hY5Rr;,]daK"><field name="OP">GTE</field><value name="A"><shadow type="math_number" id="p6kJI}.f_DS.z{e1fZ@@"><field name="NUM">0</field></shadow><block type="variables_get" id="2V/@nul8:1;yUi]~Os:+"><field name="VAR" id="-fQ3+v0Lt%FhRpWlRaqs">current_surface_reading</field></block></value><value name="B"><shadow type="math_number" id="VUPCNg!tAv%ccKz%Nieo"><field name="NUM">800</field></shadow><block type="math_arithmetic" id="]j:9!VGoRNbvc3{_lxMM"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="#Qj`dxs9LZ$h^dY{~s4O"><field name="NUM">0</field></shadow><block type="variables_get" id="1==QC{Tw~`b(L||8Mwqp"><field name="VAR" id="n}2.n__~3J7CC.Gc~PY5">black_line</field></block></value><value name="B"><shadow type="math_number" id="C/OU2l!/Wi+J]=H325uP"><field name="NUM">100</field></shadow></value></block></value></block></value><statement name="DO0"><block type="motobit_enable" id="lt.rU`(Qiz]iz)YjW`q}"><field name="command">MotorPower.On</field><next><block type="motobit_setMotor" id="6%qRD];DHI8B$5uWczKp"><field name="motor_number">Motor.Left</field><field name="path">MotorDirection.Reverse</field><value name="speed"><shadow type="math_number" id="@i7)3:TaN)4d^SMy%85~"><field name="NUM">40</field></shadow></value><next><block type="motobit_setMotor" id="b`!-U^V`Mtwp)?p{}s!|"><field name="motor_number">Motor.Right</field><field name="path">MotorDirection.Reverse</field><value name="speed"><shadow type="math_number" id="5KN8KL7)2giYZPvBe]Jb"><field name="NUM">40</field></shadow></value><next><block type="device_show_leds" id="ISt+~CN[G|^f{=O~h!#$"><field name="LEDS">`
        . # . # . 
        . # # # . 
        # # # # # 
        . # # # . 
        . . # . .
        `</field><next><block type="device_pause" id="E^.Z~!?ELC0HjgM1;^1V"><value name="pause"><shadow type="math_number" id="FSy3@5c.W3A`W1m0L~/i"><field name="NUM">10</field></shadow></value><next><block type="motobit_setMotor" id="T$3n6R^ls{PHKT{l2WC,"><field name="motor_number">Motor.Left</field><field name="path">MotorDirection.Reverse</field><value name="speed"><shadow type="math_number" id="C9f7Ksb]*2U,Tb:n3k,`"><field name="NUM">30</field></shadow></value><next><block type="motobit_setMotor" id="+BX*HyKM|uW+)x0}zhtC"><field name="motor_number">Motor.Right</field><field name="path">MotorDirection.Forward</field><value name="speed"><shadow type="math_number" id="1Je9*~a=7/]w^`ZXzF4]"><field name="NUM">40</field></shadow></value><next><block type="device_show_leds" id="o=])%Hm(Gf+Kh;?z9|V/"><field name="LEDS">`
        # # # . . 
        # # . . . 
        # . # . . 
        . . # . . 
        . . # . .
        `</field><next><block type="device_pause" id=".6BROFLlC.dzs$I//j;["><value name="pause"><shadow type="math_number" id="E?!J!)j!}I(|SEGdA[9]"><field name="NUM">5</field></shadow></value><next><block type="motobit_enable" id="rd7n7M25dr.{,d;|}=o:"><field name="command">MotorPower.Off</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name="ELSE"><block type="motobit_enable" id="L7Olc{%2juzzr3-WX_Em"><field name="command">MotorPower.On</field><next><block type="motobit_setMotor" id="9yOauz,0mmB;sF?hY$v("><field name="motor_number">Motor.Left</field><field name="path">MotorDirection.Forward</field><value name="speed"><shadow type="math_number" id="`+sATM-ISw1Bk.J5F{{y"><field name="NUM">40</field></shadow></value><next><block type="motobit_setMotor" id="!|~DC3L8X4Gya]{LzdHF"><field name="motor_number">Motor.Right</field><field name="path">MotorDirection.Forward</field><value name="speed"><shadow type="math_number" id="izaFs4yO6bD4uwYDI?LX"><field name="NUM">40</field></shadow></value><next><block type="device_show_leds" id="UjiP9N@)A0w=B_2o9~6l"><field name="LEDS">`
        . . # . . 
        . # # # . 
        # . # . # 
        . . # . . 
        . . # . .
        `</field><next><block type="device_pause" id="!?QZp%s#(dL5*.~Oqx26"><value name="pause"><shadow type="math_number" id="pTe.1u4%lwP@7P(P|{U)"><field name="NUM">5</field></shadow></value><next><block type="motobit_enable" id="WpO*PiYDeL~}Gf~O_jv%"><field name="command">MotorPower.Off</field></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement></block></xml>